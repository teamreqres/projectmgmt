function QuestionEditor(i){this.question={},this.target=$(i),this.questionTypes=$("#questionType",this.target),this.questionChoices=$("#questionChoices",this.target),this.init=function(){var t=$(i).attr("data-id");t?$.get("/ajax/questions/"+t,function(t){this.question=t,this.initComponents()}.bind(this)).fail(function(t){console.log(t)}):this.initComponents()},this.initComponents=function(){this.initQuestionChoices(),this.initQuestionTypes(),new AssignedItems($("#assignedItems",this.target),{id:this.question.id,type:"Questions"},"Sections"),$(".editor-loading",this.target).fadeOut()},this.initQuestionTypes=function(){$.get("/ajax/questionTypes/",function(t){for(var i=0;i<t.length;i++)this.question&&this.question.questionType==t[i].questionType?this.questionTypes.append("<option selected>"+t[i].questionType+"</option>"):this.questionTypes.append("<option>"+t[i].questionType+"</option>");this.toggleQuestionChoices(),this.questionTypes.change(function(){this.toggleQuestionChoices()}.bind(this))}.bind(this)).fail(function(t){console.log(t)})},this.toggleQuestionChoices=function(){0<=this.questionTypes.val().toLowerCase().indexOf("select")?this.questionChoices.slideDown():this.questionChoices.slideUp()},this.initQuestionChoices=function(){$(this.questionChoices).hide(),$("#questionChoicesContainer",this.questionChoices).empty(),this.question&&$.get("/ajax/questions/"+this.question.id,function(t){for(var i=t.questionChoices,s=0;s<i.length;s++)this.createQuestionChoice(i[s])}.bind(this)).fail(function(t){console.log(t)}),$("button[data-create]",this.questionChoices).click(function(){this.createQuestionChoice()}.bind(this)),$("#questionChoicesContainer").sortable()},this.createQuestionChoice=function(t){if(!t)t="";var i='<div class="input-group mb-2">';i+='<div class="input-group-prepend">',i+='<span class="input-group-text"><i class="fa fa-arrows" aria-hidden="true"></i> <span class="sr-only">Drag</span></span>',i+="</div>",i+='<input type="text" name="questionChoices[]" class="form-control" value="'+t+'">',i+='<div class="input-group-append">',i+="</div>",i+="</div>";var s=$(i),e=$('<button class="btn btn-danger" type="button"><i class="fa fa-trash" aria-hidden="true"></i> <span class="sr-only">Delete</span></button>');$(".input-group-append",s).append(e),e.click(function(){$(s).remove()}),$("#questionChoicesContainer",this.questionChoices).append(s)},this.target.length&&this.init()}function SectionEditor(i){this.section={},this.target=$(i),this.init=function(){var t=$(i).attr("data-id");t?$.get("/ajax/sections/"+t,function(t){this.section=t,this.initComponents()}.bind(this)).fail(function(t){console.log(t)}):this.initComponents()},this.initComponents=function(){new AssignedItems($("#assignedItems",this.target),{id:this.section.id,type:"Sections"},"Surveys"),new RelatedChooser($("#relatedChooser",this.target),{id:this.section.id,type:"Sections"},"Questions"),$(".editor-loading",this.target).fadeOut()},this.target.length&&this.init()}function SurveyEditor(i){this.survey={},this.target=$(i),this.init=function(){var t=$(i).attr("data-id");t?$.get("/ajax/surveys/"+t,function(t){this.survey=t,this.initComponents()}.bind(this)).fail(function(t){console.log(t)}):this.initComponents()},this.initComponents=function(){new RelatedChooser($("#relatedChooser",this.target),{id:this.survey.id,type:"Surveys"},"Sections"),$(".editor-loading",this.target).fadeOut()},this.target.length&&this.init()}